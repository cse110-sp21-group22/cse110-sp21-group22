function cov_1o1ohvin3h() {
  var path = "/home/rwake/Documents/school/cs110/cse110-sp21-group22/source/scripts/app.js";
  var hash = "ffe16bd23dc76c6a4c44f3e07eafdd821a43a996";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/rwake/Documents/school/cs110/cse110-sp21-group22/source/scripts/app.js",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 6,
          column: 3
        }
      },
      "1": {
        start: {
          line: 3,
          column: 2
        },
        end: {
          line: 5,
          column: 3
        }
      },
      "2": {
        start: {
          line: 4,
          column: 4
        },
        end: {
          line: 4,
          column: 28
        }
      },
      "3": {
        start: {
          line: 12,
          column: 2
        },
        end: {
          line: 12,
          column: 61
        }
      },
      "4": {
        start: {
          line: 13,
          column: 2
        },
        end: {
          line: 13,
          column: 61
        }
      },
      "5": {
        start: {
          line: 20,
          column: 2
        },
        end: {
          line: 20,
          column: 64
        }
      },
      "6": {
        start: {
          line: 21,
          column: 2
        },
        end: {
          line: 21,
          column: 58
        }
      },
      "7": {
        start: {
          line: 28,
          column: 2
        },
        end: {
          line: 28,
          column: 63
        }
      },
      "8": {
        start: {
          line: 36,
          column: 2
        },
        end: {
          line: 38,
          column: 4
        }
      },
      "9": {
        start: {
          line: 39,
          column: 2
        },
        end: {
          line: 43,
          column: 3
        }
      },
      "10": {
        start: {
          line: 40,
          column: 4
        },
        end: {
          line: 40,
          column: 54
        }
      },
      "11": {
        start: {
          line: 42,
          column: 4
        },
        end: {
          line: 42,
          column: 54
        }
      },
      "12": {
        start: {
          line: 52,
          column: 2
        },
        end: {
          line: 54,
          column: 3
        }
      },
      "13": {
        start: {
          line: 53,
          column: 4
        },
        end: {
          line: 53,
          column: 11
        }
      },
      "14": {
        start: {
          line: 57,
          column: 12
        },
        end: {
          line: 57,
          column: 31
        }
      },
      "15": {
        start: {
          line: 59,
          column: 2
        },
        end: {
          line: 59,
          column: 13
        }
      },
      "16": {
        start: {
          line: 60,
          column: 2
        },
        end: {
          line: 60,
          column: 13
        }
      },
      "17": {
        start: {
          line: 61,
          column: 2
        },
        end: {
          line: 61,
          column: 13
        }
      },
      "18": {
        start: {
          line: 64,
          column: 2
        },
        end: {
          line: 64,
          column: 71
        }
      },
      "19": {
        start: {
          line: 67,
          column: 2
        },
        end: {
          line: 71,
          column: 3
        }
      },
      "20": {
        start: {
          line: 68,
          column: 4
        },
        end: {
          line: 68,
          column: 19
        }
      },
      "21": {
        start: {
          line: 70,
          column: 4
        },
        end: {
          line: 70,
          column: 18
        }
      },
      "22": {
        start: {
          line: 80,
          column: 2
        },
        end: {
          line: 87,
          column: 4
        }
      },
      "23": {
        start: {
          line: 97,
          column: 2
        },
        end: {
          line: 97,
          column: 32
        }
      },
      "24": {
        start: {
          line: 112,
          column: 4
        },
        end: {
          line: 112,
          column: 17
        }
      },
      "25": {
        start: {
          line: 113,
          column: 4
        },
        end: {
          line: 113,
          column: 21
        }
      },
      "26": {
        start: {
          line: 114,
          column: 4
        },
        end: {
          line: 114,
          column: 23
        }
      },
      "27": {
        start: {
          line: 115,
          column: 4
        },
        end: {
          line: 115,
          column: 21
        }
      },
      "28": {
        start: {
          line: 116,
          column: 4
        },
        end: {
          line: 116,
          column: 31
        }
      },
      "29": {
        start: {
          line: 117,
          column: 4
        },
        end: {
          line: 117,
          column: 23
        }
      },
      "30": {
        start: {
          line: 125,
          column: 4
        },
        end: {
          line: 140,
          column: 7
        }
      },
      "31": {
        start: {
          line: 126,
          column: 6
        },
        end: {
          line: 139,
          column: 7
        }
      },
      "32": {
        start: {
          line: 127,
          column: 23
        },
        end: {
          line: 127,
          column: 56
        }
      },
      "33": {
        start: {
          line: 128,
          column: 8
        },
        end: {
          line: 138,
          column: 13
        }
      },
      "34": {
        start: {
          line: 148,
          column: 4
        },
        end: {
          line: 162,
          column: 7
        }
      },
      "35": {
        start: {
          line: 149,
          column: 6
        },
        end: {
          line: 161,
          column: 7
        }
      },
      "36": {
        start: {
          line: 150,
          column: 23
        },
        end: {
          line: 150,
          column: 56
        }
      },
      "37": {
        start: {
          line: 151,
          column: 8
        },
        end: {
          line: 160,
          column: 13
        }
      },
      "38": {
        start: {
          line: 176,
          column: 4
        },
        end: {
          line: 176,
          column: 17
        }
      },
      "39": {
        start: {
          line: 177,
          column: 4
        },
        end: {
          line: 177,
          column: 21
        }
      },
      "40": {
        start: {
          line: 178,
          column: 4
        },
        end: {
          line: 178,
          column: 23
        }
      },
      "41": {
        start: {
          line: 179,
          column: 4
        },
        end: {
          line: 179,
          column: 19
        }
      },
      "42": {
        start: {
          line: 186,
          column: 4
        },
        end: {
          line: 200,
          column: 7
        }
      },
      "43": {
        start: {
          line: 187,
          column: 6
        },
        end: {
          line: 199,
          column: 7
        }
      },
      "44": {
        start: {
          line: 188,
          column: 8
        },
        end: {
          line: 198,
          column: 13
        }
      },
      "45": {
        start: {
          line: 207,
          column: 4
        },
        end: {
          line: 220,
          column: 7
        }
      },
      "46": {
        start: {
          line: 208,
          column: 6
        },
        end: {
          line: 219,
          column: 7
        }
      },
      "47": {
        start: {
          line: 209,
          column: 8
        },
        end: {
          line: 218,
          column: 13
        }
      },
      "48": {
        start: {
          line: 225,
          column: 20
        },
        end: {
          line: 249,
          column: 1
        }
      },
      "49": {
        start: {
          line: 227,
          column: 19
        },
        end: {
          line: 227,
          column: 52
        }
      },
      "50": {
        start: {
          line: 228,
          column: 4
        },
        end: {
          line: 236,
          column: 6
        }
      },
      "51": {
        start: {
          line: 239,
          column: 17
        },
        end: {
          line: 239,
          column: 39
        }
      },
      "52": {
        start: {
          line: 240,
          column: 4
        },
        end: {
          line: 247,
          column: 6
        }
      },
      "53": {
        start: {
          line: 252,
          column: 24
        },
        end: {
          line: 265,
          column: 1
        }
      },
      "54": {
        start: {
          line: 254,
          column: 4
        },
        end: {
          line: 259,
          column: 6
        }
      },
      "55": {
        start: {
          line: 262,
          column: 17
        },
        end: {
          line: 262,
          column: 39
        }
      },
      "56": {
        start: {
          line: 263,
          column: 4
        },
        end: {
          line: 263,
          column: 73
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 2,
            column: 24
          },
          end: {
            line: 2,
            column: 25
          }
        },
        loc: {
          start: {
            line: 2,
            column: 34
          },
          end: {
            line: 6,
            column: 1
          }
        },
        line: 2
      },
      "1": {
        name: "PageLoaded",
        decl: {
          start: {
            line: 11,
            column: 9
          },
          end: {
            line: 11,
            column: 19
          }
        },
        loc: {
          start: {
            line: 11,
            column: 22
          },
          end: {
            line: 14,
            column: 1
          }
        },
        line: 11
      },
      "2": {
        name: "PageUnloaded",
        decl: {
          start: {
            line: 19,
            column: 9
          },
          end: {
            line: 19,
            column: 21
          }
        },
        loc: {
          start: {
            line: 19,
            column: 24
          },
          end: {
            line: 22,
            column: 1
          }
        },
        line: 19
      },
      "3": {
        name: "NavbarLoaded",
        decl: {
          start: {
            line: 27,
            column: 9
          },
          end: {
            line: 27,
            column: 21
          }
        },
        loc: {
          start: {
            line: 27,
            column: 24
          },
          end: {
            line: 29,
            column: 1
          }
        },
        line: 27
      },
      "4": {
        name: "setTextColor",
        decl: {
          start: {
            line: 35,
            column: 9
          },
          end: {
            line: 35,
            column: 21
          }
        },
        loc: {
          start: {
            line: 35,
            column: 26
          },
          end: {
            line: 44,
            column: 1
          }
        },
        line: 35
      },
      "5": {
        name: "lightOrDark",
        decl: {
          start: {
            line: 51,
            column: 9
          },
          end: {
            line: 51,
            column: 20
          }
        },
        loc: {
          start: {
            line: 51,
            column: 28
          },
          end: {
            line: 72,
            column: 1
          }
        },
        line: 51
      },
      "6": {
        name: "daysIntoYear",
        decl: {
          start: {
            line: 79,
            column: 9
          },
          end: {
            line: 79,
            column: 21
          }
        },
        loc: {
          start: {
            line: 79,
            column: 28
          },
          end: {
            line: 88,
            column: 1
          }
        },
        line: 79
      },
      "7": {
        name: "doyToDate",
        decl: {
          start: {
            line: 96,
            column: 9
          },
          end: {
            line: 96,
            column: 18
          }
        },
        loc: {
          start: {
            line: 96,
            column: 30
          },
          end: {
            line: 98,
            column: 1
          }
        },
        line: 96
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 111,
            column: 2
          },
          end: {
            line: 111,
            column: 3
          }
        },
        loc: {
          start: {
            line: 111,
            column: 55
          },
          end: {
            line: 118,
            column: 3
          }
        },
        line: 111
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 124,
            column: 2
          },
          end: {
            line: 124,
            column: 3
          }
        },
        loc: {
          start: {
            line: 124,
            column: 21
          },
          end: {
            line: 141,
            column: 3
          }
        },
        line: 124
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 125,
            column: 28
          },
          end: {
            line: 125,
            column: 29
          }
        },
        loc: {
          start: {
            line: 125,
            column: 38
          },
          end: {
            line: 140,
            column: 5
          }
        },
        line: 125
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 136,
            column: 17
          },
          end: {
            line: 136,
            column: 18
          }
        },
        loc: {
          start: {
            line: 136,
            column: 26
          },
          end: {
            line: 138,
            column: 11
          }
        },
        line: 136
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 147,
            column: 2
          },
          end: {
            line: 147,
            column: 3
          }
        },
        loc: {
          start: {
            line: 147,
            column: 23
          },
          end: {
            line: 163,
            column: 3
          }
        },
        line: 147
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 148,
            column: 28
          },
          end: {
            line: 148,
            column: 29
          }
        },
        loc: {
          start: {
            line: 148,
            column: 38
          },
          end: {
            line: 162,
            column: 5
          }
        },
        line: 148
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 158,
            column: 17
          },
          end: {
            line: 158,
            column: 18
          }
        },
        loc: {
          start: {
            line: 158,
            column: 26
          },
          end: {
            line: 160,
            column: 11
          }
        },
        line: 158
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 175,
            column: 2
          },
          end: {
            line: 175,
            column: 3
          }
        },
        loc: {
          start: {
            line: 175,
            column: 36
          },
          end: {
            line: 180,
            column: 3
          }
        },
        line: 175
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 185,
            column: 2
          },
          end: {
            line: 185,
            column: 3
          }
        },
        loc: {
          start: {
            line: 185,
            column: 9
          },
          end: {
            line: 201,
            column: 3
          }
        },
        line: 185
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 186,
            column: 28
          },
          end: {
            line: 186,
            column: 29
          }
        },
        loc: {
          start: {
            line: 186,
            column: 38
          },
          end: {
            line: 200,
            column: 5
          }
        },
        line: 186
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 196,
            column: 17
          },
          end: {
            line: 196,
            column: 18
          }
        },
        loc: {
          start: {
            line: 196,
            column: 26
          },
          end: {
            line: 198,
            column: 11
          }
        },
        line: 196
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 206,
            column: 2
          },
          end: {
            line: 206,
            column: 3
          }
        },
        loc: {
          start: {
            line: 206,
            column: 11
          },
          end: {
            line: 221,
            column: 3
          }
        },
        line: 206
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 207,
            column: 28
          },
          end: {
            line: 207,
            column: 29
          }
        },
        loc: {
          start: {
            line: 207,
            column: 38
          },
          end: {
            line: 220,
            column: 5
          }
        },
        line: 207
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 216,
            column: 17
          },
          end: {
            line: 216,
            column: 18
          }
        },
        loc: {
          start: {
            line: 216,
            column: 26
          },
          end: {
            line: 218,
            column: 11
          }
        },
        line: 216
      },
      "22": {
        name: "(anonymous_22)",
        decl: {
          start: {
            line: 226,
            column: 15
          },
          end: {
            line: 226,
            column: 16
          }
        },
        loc: {
          start: {
            line: 226,
            column: 31
          },
          end: {
            line: 237,
            column: 3
          }
        },
        line: 226
      },
      "23": {
        name: "(anonymous_23)",
        decl: {
          start: {
            line: 238,
            column: 17
          },
          end: {
            line: 238,
            column: 18
          }
        },
        loc: {
          start: {
            line: 238,
            column: 46
          },
          end: {
            line: 248,
            column: 3
          }
        },
        line: 238
      },
      "24": {
        name: "(anonymous_24)",
        decl: {
          start: {
            line: 253,
            column: 15
          },
          end: {
            line: 253,
            column: 16
          }
        },
        loc: {
          start: {
            line: 253,
            column: 35
          },
          end: {
            line: 260,
            column: 3
          }
        },
        line: 253
      },
      "25": {
        name: "(anonymous_25)",
        decl: {
          start: {
            line: 261,
            column: 17
          },
          end: {
            line: 261,
            column: 18
          }
        },
        loc: {
          start: {
            line: 261,
            column: 46
          },
          end: {
            line: 264,
            column: 3
          }
        },
        line: 261
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 3,
            column: 2
          },
          end: {
            line: 5,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 3,
            column: 2
          },
          end: {
            line: 5,
            column: 3
          }
        }, {
          start: {
            line: 3,
            column: 2
          },
          end: {
            line: 5,
            column: 3
          }
        }],
        line: 3
      },
      "1": {
        loc: {
          start: {
            line: 39,
            column: 2
          },
          end: {
            line: 43,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 39,
            column: 2
          },
          end: {
            line: 43,
            column: 3
          }
        }, {
          start: {
            line: 39,
            column: 2
          },
          end: {
            line: 43,
            column: 3
          }
        }],
        line: 39
      },
      "2": {
        loc: {
          start: {
            line: 52,
            column: 2
          },
          end: {
            line: 54,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 52,
            column: 2
          },
          end: {
            line: 54,
            column: 3
          }
        }, {
          start: {
            line: 52,
            column: 2
          },
          end: {
            line: 54,
            column: 3
          }
        }],
        line: 52
      },
      "3": {
        loc: {
          start: {
            line: 67,
            column: 2
          },
          end: {
            line: 71,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 67,
            column: 2
          },
          end: {
            line: 71,
            column: 3
          }
        }, {
          start: {
            line: 67,
            column: 2
          },
          end: {
            line: 71,
            column: 3
          }
        }],
        line: 67
      },
      "4": {
        loc: {
          start: {
            line: 126,
            column: 6
          },
          end: {
            line: 139,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 126,
            column: 6
          },
          end: {
            line: 139,
            column: 7
          }
        }, {
          start: {
            line: 126,
            column: 6
          },
          end: {
            line: 139,
            column: 7
          }
        }],
        line: 126
      },
      "5": {
        loc: {
          start: {
            line: 149,
            column: 6
          },
          end: {
            line: 161,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 149,
            column: 6
          },
          end: {
            line: 161,
            column: 7
          }
        }, {
          start: {
            line: 149,
            column: 6
          },
          end: {
            line: 161,
            column: 7
          }
        }],
        line: 149
      },
      "6": {
        loc: {
          start: {
            line: 187,
            column: 6
          },
          end: {
            line: 199,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 187,
            column: 6
          },
          end: {
            line: 199,
            column: 7
          }
        }, {
          start: {
            line: 187,
            column: 6
          },
          end: {
            line: 199,
            column: 7
          }
        }],
        line: 187
      },
      "7": {
        loc: {
          start: {
            line: 208,
            column: 6
          },
          end: {
            line: 219,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 208,
            column: 6
          },
          end: {
            line: 219,
            column: 7
          }
        }, {
          start: {
            line: 208,
            column: 6
          },
          end: {
            line: 219,
            column: 7
          }
        }],
        line: 208
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "ffe16bd23dc76c6a4c44f3e07eafdd821a43a996"
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }

  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1o1ohvin3h = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}

cov_1o1ohvin3h();
cov_1o1ohvin3h().s[0]++;
// checking if user is signed in or not
auth.onAuthStateChanged(user => {
  cov_1o1ohvin3h().f[0]++;
  cov_1o1ohvin3h().s[1]++;

  if (!user) {
    cov_1o1ohvin3h().b[0][0]++;
    cov_1o1ohvin3h().s[2]++;
    location = "login.html";
  } else {
    cov_1o1ohvin3h().b[0][1]++;
  }
});
/**
 * Function to hide spinner and show page on load
 */

function PageLoaded() {
  cov_1o1ohvin3h().f[1]++;
  cov_1o1ohvin3h().s[3]++;
  document.getElementById("spinner").classList.add("d-none");
  cov_1o1ohvin3h().s[4]++;
  document.getElementById("main").classList.remove("d-none");
}
/**
 * Function to show spinner and hide page
 */


function PageUnloaded() {
  cov_1o1ohvin3h().f[2]++;
  cov_1o1ohvin3h().s[5]++;
  document.getElementById("spinner").classList.remove("d-none");
  cov_1o1ohvin3h().s[6]++;
  document.getElementById("main").classList.add("d-none");
}
/**
 * Function to show navbar when loaded
 */


function NavbarLoaded() {
  cov_1o1ohvin3h().f[3]++;
  cov_1o1ohvin3h().s[7]++;
  document.getElementById("navbar").classList.remove("d-none");
}
/**
 * Function to change text color based on backgound color
 * @param {*} id
 */


function setTextColor(id) {
  cov_1o1ohvin3h().f[4]++;
  cov_1o1ohvin3h().s[8]++;
  lightDark = lightOrDark(document.getElementById("navbar").style.backgroundColor);
  cov_1o1ohvin3h().s[9]++;

  if (lightDark == "light") {
    cov_1o1ohvin3h().b[1][0]++;
    cov_1o1ohvin3h().s[10]++;
    document.getElementById(id).style.color = "black";
  } else {
    cov_1o1ohvin3h().b[1][1]++;
    cov_1o1ohvin3h().s[11]++;
    document.getElementById(id).style.color = "white";
  }
}
/**
 * Function to determine if a color is light or dark
 * @param {string} color - color in rgb
 * @returns - "light" for light color or "dark" for dark color
 */


function lightOrDark(color) {
  cov_1o1ohvin3h().f[5]++;
  cov_1o1ohvin3h().s[12]++;

  if (!color) {
    cov_1o1ohvin3h().b[2][0]++;
    cov_1o1ohvin3h().s[13]++;
    return;
  } else {
    cov_1o1ohvin3h().b[2][1]++;
  } // Variables for red, green, blue values


  var r, g, b, hsp;
  var rgb = (cov_1o1ohvin3h().s[14]++, color.match(/\d+/g));
  cov_1o1ohvin3h().s[15]++;
  r = rgb[0];
  cov_1o1ohvin3h().s[16]++;
  g = rgb[1];
  cov_1o1ohvin3h().s[17]++;
  b = rgb[2]; // HSP (Highly Sensitive Poo) equation from http://alienryderflex.com/hsp.html

  cov_1o1ohvin3h().s[18]++;
  hsp = Math.sqrt(0.299 * (r * r) + 0.587 * (g * g) + 0.114 * (b * b)); // Using the HSP value, determine whether the color is light or dark

  cov_1o1ohvin3h().s[19]++;

  if (hsp > 127.5) {
    cov_1o1ohvin3h().b[3][0]++;
    cov_1o1ohvin3h().s[20]++;
    return "light";
  } else {
    cov_1o1ohvin3h().b[3][1]++;
    cov_1o1ohvin3h().s[21]++;
    return "dark";
  }
}
/**
 * Function to convert date to day in year
 * @param {Date} date date to convert to day in year
 * @returns day in year
 */


function daysIntoYear(date) {
  cov_1o1ohvin3h().f[6]++;
  cov_1o1ohvin3h().s[22]++;
  return (Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()) - Date.UTC(date.getFullYear(), 0, 0)) / 24 / 60 / 60 / 1000;
}
/**
 * Function to convert date of year to Date object
 * @param {int} doy
 * @param {int} year
 * @returns Date object
 */


function doyToDate(doy, year) {
  cov_1o1ohvin3h().f[7]++;
  cov_1o1ohvin3h().s[23]++;
  return new Date(year, 0, doy);
}
/**
 * BuJo Task/notes class
 * @constructor
 * @param {string} id id of task/note
 * @param {string} text task/note contents
 * @param {int} level specifies sub-elements
 * @param {int} type specifies type of task/note
 * @param {int} signifier sets signifier
 * @param {int} style sets text style
 */


class BujoElement {
  constructor(id, text, level, type, signifier, style) {
    cov_1o1ohvin3h().f[8]++;
    cov_1o1ohvin3h().s[24]++;
    this.id = id;
    cov_1o1ohvin3h().s[25]++;
    this.text = text;
    cov_1o1ohvin3h().s[26]++;
    this.level = level;
    cov_1o1ohvin3h().s[27]++;
    this.type = type;
    cov_1o1ohvin3h().s[28]++;
    this.signifier = signifier;
    cov_1o1ohvin3h().s[29]++;
    this.style = style;
  }
  /**
   * Sync task/note to database
   * @param {int} selectedDate selected date in notebook
   */


  sync(selectedDate) {
    cov_1o1ohvin3h().f[9]++;
    cov_1o1ohvin3h().s[30]++;
    auth.onAuthStateChanged(user => {
      cov_1o1ohvin3h().f[10]++;
      cov_1o1ohvin3h().s[31]++;

      if (user) {
        cov_1o1ohvin3h().b[4][0]++;
        let dateYear = (cov_1o1ohvin3h().s[32]++, daysIntoYear(date) + selectedDate);
        cov_1o1ohvin3h().s[33]++;
        fs.collection("users").doc(user.uid).collection("data").doc("notes").collection("" + dateYear).doc("" + this.id).withConverter(bujoConverter).set(this).catch(err => {// console.log(err.message);

          cov_1o1ohvin3h().f[11]++;
        });
      } else {
        cov_1o1ohvin3h().b[4][1]++;
      }
    });
  }
  /**
   * Delete task/note
   * @param {int} selectedDate selected date in notebook
   */


  delete(selectedDate) {
    cov_1o1ohvin3h().f[12]++;
    cov_1o1ohvin3h().s[34]++;
    auth.onAuthStateChanged(user => {
      cov_1o1ohvin3h().f[13]++;
      cov_1o1ohvin3h().s[35]++;

      if (user) {
        cov_1o1ohvin3h().b[5][0]++;
        let dateYear = (cov_1o1ohvin3h().s[36]++, daysIntoYear(date) + selectedDate);
        cov_1o1ohvin3h().s[37]++;
        fs.collection("users").doc(user.uid).collection("data").doc("notes").collection("" + dateYear).doc("" + this.id).delete().catch(err => {// console.log(err.message);

          cov_1o1ohvin3h().f[14]++;
        });
      } else {
        cov_1o1ohvin3h().b[5][1]++;
      }
    });
  }

}
/**
 * Progress tracker class
 * @constructor
 * @param {string} id id of progress tracker
 * @param {string} text title of progress tracker
 * @param {int} start specifies start date of progress tracker
 * @param {int} end specifies end date of progress tracker
 */


class ProgressTracker {
  constructor(id, text, start, end) {
    cov_1o1ohvin3h().f[15]++;
    cov_1o1ohvin3h().s[38]++;
    this.id = id;
    cov_1o1ohvin3h().s[39]++;
    this.text = text;
    cov_1o1ohvin3h().s[40]++;
    this.start = start;
    cov_1o1ohvin3h().s[41]++;
    this.end = end;
  }
  /**
   * Sync progress tracker to database
   */


  sync() {
    cov_1o1ohvin3h().f[16]++;
    cov_1o1ohvin3h().s[42]++;
    auth.onAuthStateChanged(user => {
      cov_1o1ohvin3h().f[17]++;
      cov_1o1ohvin3h().s[43]++;

      if (user) {
        cov_1o1ohvin3h().b[6][0]++;
        cov_1o1ohvin3h().s[44]++;
        fs.collection("users").doc(user.uid).collection("data").doc("progress").collection("progress").doc("" + this.id).withConverter(progressConverter).set(this).catch(err => {// console.log(err.message);

          cov_1o1ohvin3h().f[18]++;
        });
      } else {
        cov_1o1ohvin3h().b[6][1]++;
      }
    });
  }
  /**
   * Delete progress tracker
   */


  delete() {
    cov_1o1ohvin3h().f[19]++;
    cov_1o1ohvin3h().s[45]++;
    auth.onAuthStateChanged(user => {
      cov_1o1ohvin3h().f[20]++;
      cov_1o1ohvin3h().s[46]++;

      if (user) {
        cov_1o1ohvin3h().b[7][0]++;
        cov_1o1ohvin3h().s[47]++;
        fs.collection("users").doc(user.uid).collection("data").doc("progress").collection("progress").doc("" + this.id).delete().catch(err => {// console.log(err.message);

          cov_1o1ohvin3h().f[21]++;
        });
      } else {
        cov_1o1ohvin3h().b[7][1]++;
      }
    });
  }

} // Task/note firestore data converter


var bujoConverter = (cov_1o1ohvin3h().s[48]++, {
  toFirestore: function (bujo) {
    cov_1o1ohvin3h().f[22]++;
    let dateYear = (cov_1o1ohvin3h().s[49]++, daysIntoYear(date) + selectedDate);
    cov_1o1ohvin3h().s[50]++;
    return {
      id: bujo.id,
      text: bujo.text,
      level: bujo.level,
      type: bujo.type,
      signifier: bujo.signifier,
      style: bujo.style,
      date: dateYear
    };
  },
  fromFirestore: function (snapshot, options) {
    cov_1o1ohvin3h().f[23]++;
    const data = (cov_1o1ohvin3h().s[51]++, snapshot.data(options));
    cov_1o1ohvin3h().s[52]++;
    return new BujoElement(data.id, data.text, data.level, data.type, data.signifier, data.style);
  }
}); // Progress tracker firestore data converter

var progressConverter = (cov_1o1ohvin3h().s[53]++, {
  toFirestore: function (progress) {
    cov_1o1ohvin3h().f[24]++;
    cov_1o1ohvin3h().s[54]++;
    return {
      id: progress.id,
      text: progress.text,
      start: progress.start,
      end: progress.end
    };
  },
  fromFirestore: function (snapshot, options) {
    cov_1o1ohvin3h().f[25]++;
    const data = (cov_1o1ohvin3h().s[55]++, snapshot.data(options));
    cov_1o1ohvin3h().s[56]++;
    return new ProgressTracker(data.id, data.text, data.start, data.end);
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJhdXRoIiwib25BdXRoU3RhdGVDaGFuZ2VkIiwidXNlciIsImxvY2F0aW9uIiwiUGFnZUxvYWRlZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJQYWdlVW5sb2FkZWQiLCJOYXZiYXJMb2FkZWQiLCJzZXRUZXh0Q29sb3IiLCJpZCIsImxpZ2h0RGFyayIsImxpZ2h0T3JEYXJrIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsInIiLCJnIiwiYiIsImhzcCIsInJnYiIsIm1hdGNoIiwiTWF0aCIsInNxcnQiLCJkYXlzSW50b1llYXIiLCJkYXRlIiwiRGF0ZSIsIlVUQyIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZG95VG9EYXRlIiwiZG95IiwieWVhciIsIkJ1am9FbGVtZW50IiwiY29uc3RydWN0b3IiLCJ0ZXh0IiwibGV2ZWwiLCJ0eXBlIiwic2lnbmlmaWVyIiwic3luYyIsInNlbGVjdGVkRGF0ZSIsImRhdGVZZWFyIiwiZnMiLCJjb2xsZWN0aW9uIiwiZG9jIiwidWlkIiwid2l0aENvbnZlcnRlciIsImJ1am9Db252ZXJ0ZXIiLCJzZXQiLCJjYXRjaCIsImVyciIsImRlbGV0ZSIsIlByb2dyZXNzVHJhY2tlciIsInN0YXJ0IiwiZW5kIiwicHJvZ3Jlc3NDb252ZXJ0ZXIiLCJ0b0ZpcmVzdG9yZSIsImJ1am8iLCJmcm9tRmlyZXN0b3JlIiwic25hcHNob3QiLCJvcHRpb25zIiwiZGF0YSIsInByb2dyZXNzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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QUFBLElBQUksRUFBRTJCLFFBQVEsQ0FBQzNCLElBRlY7QUFHTGtCLE1BQUFBLEtBQUssRUFBRVMsUUFBUSxDQUFDVCxLQUhYO0FBSUxDLE1BQUFBLEdBQUcsRUFBRVEsUUFBUSxDQUFDUjtBQUpULEtBQVA7QUFNRCxHQVJxQjtBQVN0QkksRUFBQUEsYUFBYSxFQUFFLFVBQVVDLFFBQVYsRUFBb0JDLE9BQXBCLEVBQTZCO0FBQUE7QUFDMUMsVUFBTUMsSUFBSSw4QkFBR0YsUUFBUSxDQUFDRSxJQUFULENBQWNELE9BQWQsQ0FBSCxDQUFWO0FBRDBDO0FBRTFDLFdBQU8sSUFBSVIsZUFBSixDQUFvQlMsSUFBSSxDQUFDcEQsRUFBekIsRUFBNkJvRCxJQUFJLENBQUMxQixJQUFsQyxFQUF3QzBCLElBQUksQ0FBQ1IsS0FBN0MsRUFBb0RRLElBQUksQ0FBQ1AsR0FBekQsQ0FBUDtBQUNEO0FBWnFCLENBQUgsQ0FBckIiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjaGVja2luZyBpZiB1c2VyIGlzIHNpZ25lZCBpbiBvciBub3RcbmF1dGgub25BdXRoU3RhdGVDaGFuZ2VkKCh1c2VyKSA9PiB7XG4gIGlmICghdXNlcikge1xuICAgIGxvY2F0aW9uID0gXCJsb2dpbi5odG1sXCI7XG4gIH1cbn0pO1xuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIGhpZGUgc3Bpbm5lciBhbmQgc2hvdyBwYWdlIG9uIGxvYWRcbiAqL1xuZnVuY3Rpb24gUGFnZUxvYWRlZCgpIHtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLmNsYXNzTGlzdC5hZGQoXCJkLW5vbmVcIik7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpblwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiZC1ub25lXCIpO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIHNob3cgc3Bpbm5lciBhbmQgaGlkZSBwYWdlXG4gKi9cbmZ1bmN0aW9uIFBhZ2VVbmxvYWRlZCgpIHtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJkLW5vbmVcIik7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpblwiKS5jbGFzc0xpc3QuYWRkKFwiZC1ub25lXCIpO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIHNob3cgbmF2YmFyIHdoZW4gbG9hZGVkXG4gKi9cbmZ1bmN0aW9uIE5hdmJhckxvYWRlZCgpIHtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXZiYXJcIikuY2xhc3NMaXN0LnJlbW92ZShcImQtbm9uZVwiKTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBjaGFuZ2UgdGV4dCBjb2xvciBiYXNlZCBvbiBiYWNrZ291bmQgY29sb3JcbiAqIEBwYXJhbSB7Kn0gaWRcbiAqL1xuZnVuY3Rpb24gc2V0VGV4dENvbG9yKGlkKSB7XG4gIGxpZ2h0RGFyayA9IGxpZ2h0T3JEYXJrKFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmF2YmFyXCIpLnN0eWxlLmJhY2tncm91bmRDb2xvclxuICApO1xuICBpZiAobGlnaHREYXJrID09IFwibGlnaHRcIikge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5zdHlsZS5jb2xvciA9IFwiYmxhY2tcIjtcbiAgfSBlbHNlIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc3R5bGUuY29sb3IgPSBcIndoaXRlXCI7XG4gIH1cbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBkZXRlcm1pbmUgaWYgYSBjb2xvciBpcyBsaWdodCBvciBkYXJrXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBjb2xvciBpbiByZ2JcbiAqIEByZXR1cm5zIC0gXCJsaWdodFwiIGZvciBsaWdodCBjb2xvciBvciBcImRhcmtcIiBmb3IgZGFyayBjb2xvclxuICovXG5mdW5jdGlvbiBsaWdodE9yRGFyayhjb2xvcikge1xuICBpZiAoIWNvbG9yKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIFZhcmlhYmxlcyBmb3IgcmVkLCBncmVlbiwgYmx1ZSB2YWx1ZXNcbiAgdmFyIHIsIGcsIGIsIGhzcDtcbiAgdmFyIHJnYiA9IGNvbG9yLm1hdGNoKC9cXGQrL2cpO1xuXG4gIHIgPSByZ2JbMF07XG4gIGcgPSByZ2JbMV07XG4gIGIgPSByZ2JbMl07XG5cbiAgLy8gSFNQIChIaWdobHkgU2Vuc2l0aXZlIFBvbykgZXF1YXRpb24gZnJvbSBodHRwOi8vYWxpZW5yeWRlcmZsZXguY29tL2hzcC5odG1sXG4gIGhzcCA9IE1hdGguc3FydCgwLjI5OSAqIChyICogcikgKyAwLjU4NyAqIChnICogZykgKyAwLjExNCAqIChiICogYikpO1xuXG4gIC8vIFVzaW5nIHRoZSBIU1AgdmFsdWUsIGRldGVybWluZSB3aGV0aGVyIHRoZSBjb2xvciBpcyBsaWdodCBvciBkYXJrXG4gIGlmIChoc3AgPiAxMjcuNSkge1xuICAgIHJldHVybiBcImxpZ2h0XCI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFwiZGFya1wiO1xuICB9XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gY29udmVydCBkYXRlIHRvIGRheSBpbiB5ZWFyXG4gKiBAcGFyYW0ge0RhdGV9IGRhdGUgZGF0ZSB0byBjb252ZXJ0IHRvIGRheSBpbiB5ZWFyXG4gKiBAcmV0dXJucyBkYXkgaW4geWVhclxuICovXG5mdW5jdGlvbiBkYXlzSW50b1llYXIoZGF0ZSkge1xuICByZXR1cm4gKFxuICAgIChEYXRlLlVUQyhkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkpIC1cbiAgICAgIERhdGUuVVRDKGRhdGUuZ2V0RnVsbFllYXIoKSwgMCwgMCkpIC9cbiAgICAyNCAvXG4gICAgNjAgL1xuICAgIDYwIC9cbiAgICAxMDAwXG4gICk7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gY29udmVydCBkYXRlIG9mIHllYXIgdG8gRGF0ZSBvYmplY3RcbiAqIEBwYXJhbSB7aW50fSBkb3lcbiAqIEBwYXJhbSB7aW50fSB5ZWFyXG4gKiBAcmV0dXJucyBEYXRlIG9iamVjdFxuICovXG5mdW5jdGlvbiBkb3lUb0RhdGUoZG95LCB5ZWFyKSB7XG4gIHJldHVybiBuZXcgRGF0ZSh5ZWFyLCAwLCBkb3kpO1xufVxuXG4vKipcbiAqIEJ1Sm8gVGFzay9ub3RlcyBjbGFzc1xuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgaWQgb2YgdGFzay9ub3RlXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCB0YXNrL25vdGUgY29udGVudHNcbiAqIEBwYXJhbSB7aW50fSBsZXZlbCBzcGVjaWZpZXMgc3ViLWVsZW1lbnRzXG4gKiBAcGFyYW0ge2ludH0gdHlwZSBzcGVjaWZpZXMgdHlwZSBvZiB0YXNrL25vdGVcbiAqIEBwYXJhbSB7aW50fSBzaWduaWZpZXIgc2V0cyBzaWduaWZpZXJcbiAqIEBwYXJhbSB7aW50fSBzdHlsZSBzZXRzIHRleHQgc3R5bGVcbiAqL1xuY2xhc3MgQnVqb0VsZW1lbnQge1xuICBjb25zdHJ1Y3RvcihpZCwgdGV4dCwgbGV2ZWwsIHR5cGUsIHNpZ25pZmllciwgc3R5bGUpIHtcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB0aGlzLmxldmVsID0gbGV2ZWw7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLnNpZ25pZmllciA9IHNpZ25pZmllcjtcbiAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gIH1cblxuICAvKipcbiAgICogU3luYyB0YXNrL25vdGUgdG8gZGF0YWJhc2VcbiAgICogQHBhcmFtIHtpbnR9IHNlbGVjdGVkRGF0ZSBzZWxlY3RlZCBkYXRlIGluIG5vdGVib29rXG4gICAqL1xuICBzeW5jKHNlbGVjdGVkRGF0ZSkge1xuICAgIGF1dGgub25BdXRoU3RhdGVDaGFuZ2VkKCh1c2VyKSA9PiB7XG4gICAgICBpZiAodXNlcikge1xuICAgICAgICBsZXQgZGF0ZVllYXIgPSBkYXlzSW50b1llYXIoZGF0ZSkgKyBzZWxlY3RlZERhdGU7XG4gICAgICAgIGZzLmNvbGxlY3Rpb24oXCJ1c2Vyc1wiKVxuICAgICAgICAgIC5kb2ModXNlci51aWQpXG4gICAgICAgICAgLmNvbGxlY3Rpb24oXCJkYXRhXCIpXG4gICAgICAgICAgLmRvYyhcIm5vdGVzXCIpXG4gICAgICAgICAgLmNvbGxlY3Rpb24oXCJcIiArIGRhdGVZZWFyKVxuICAgICAgICAgIC5kb2MoXCJcIiArIHRoaXMuaWQpXG4gICAgICAgICAgLndpdGhDb252ZXJ0ZXIoYnVqb0NvbnZlcnRlcilcbiAgICAgICAgICAuc2V0KHRoaXMpXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgdGFzay9ub3RlXG4gICAqIEBwYXJhbSB7aW50fSBzZWxlY3RlZERhdGUgc2VsZWN0ZWQgZGF0ZSBpbiBub3RlYm9va1xuICAgKi9cbiAgZGVsZXRlKHNlbGVjdGVkRGF0ZSkge1xuICAgIGF1dGgub25BdXRoU3RhdGVDaGFuZ2VkKCh1c2VyKSA9PiB7XG4gICAgICBpZiAodXNlcikge1xuICAgICAgICBsZXQgZGF0ZVllYXIgPSBkYXlzSW50b1llYXIoZGF0ZSkgKyBzZWxlY3RlZERhdGU7XG4gICAgICAgIGZzLmNvbGxlY3Rpb24oXCJ1c2Vyc1wiKVxuICAgICAgICAgIC5kb2ModXNlci51aWQpXG4gICAgICAgICAgLmNvbGxlY3Rpb24oXCJkYXRhXCIpXG4gICAgICAgICAgLmRvYyhcIm5vdGVzXCIpXG4gICAgICAgICAgLmNvbGxlY3Rpb24oXCJcIiArIGRhdGVZZWFyKVxuICAgICAgICAgIC5kb2MoXCJcIiArIHRoaXMuaWQpXG4gICAgICAgICAgLmRlbGV0ZSgpXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIFByb2dyZXNzIHRyYWNrZXIgY2xhc3NcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtzdHJpbmd9IGlkIGlkIG9mIHByb2dyZXNzIHRyYWNrZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IHRpdGxlIG9mIHByb2dyZXNzIHRyYWNrZXJcbiAqIEBwYXJhbSB7aW50fSBzdGFydCBzcGVjaWZpZXMgc3RhcnQgZGF0ZSBvZiBwcm9ncmVzcyB0cmFja2VyXG4gKiBAcGFyYW0ge2ludH0gZW5kIHNwZWNpZmllcyBlbmQgZGF0ZSBvZiBwcm9ncmVzcyB0cmFja2VyXG4gKi9cbmNsYXNzIFByb2dyZXNzVHJhY2tlciB7XG4gIGNvbnN0cnVjdG9yKGlkLCB0ZXh0LCBzdGFydCwgZW5kKSB7XG4gICAgdGhpcy5pZCA9IGlkO1xuICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgIHRoaXMuZW5kID0gZW5kO1xuICB9XG5cbiAgLyoqXG4gICAqIFN5bmMgcHJvZ3Jlc3MgdHJhY2tlciB0byBkYXRhYmFzZVxuICAgKi9cbiAgc3luYygpIHtcbiAgICBhdXRoLm9uQXV0aFN0YXRlQ2hhbmdlZCgodXNlcikgPT4ge1xuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgZnMuY29sbGVjdGlvbihcInVzZXJzXCIpXG4gICAgICAgICAgLmRvYyh1c2VyLnVpZClcbiAgICAgICAgICAuY29sbGVjdGlvbihcImRhdGFcIilcbiAgICAgICAgICAuZG9jKFwicHJvZ3Jlc3NcIilcbiAgICAgICAgICAuY29sbGVjdGlvbihcInByb2dyZXNzXCIpXG4gICAgICAgICAgLmRvYyhcIlwiICsgdGhpcy5pZClcbiAgICAgICAgICAud2l0aENvbnZlcnRlcihwcm9ncmVzc0NvbnZlcnRlcilcbiAgICAgICAgICAuc2V0KHRoaXMpXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgcHJvZ3Jlc3MgdHJhY2tlclxuICAgKi9cbiAgZGVsZXRlKCkge1xuICAgIGF1dGgub25BdXRoU3RhdGVDaGFuZ2VkKCh1c2VyKSA9PiB7XG4gICAgICBpZiAodXNlcikge1xuICAgICAgICBmcy5jb2xsZWN0aW9uKFwidXNlcnNcIilcbiAgICAgICAgICAuZG9jKHVzZXIudWlkKVxuICAgICAgICAgIC5jb2xsZWN0aW9uKFwiZGF0YVwiKVxuICAgICAgICAgIC5kb2MoXCJwcm9ncmVzc1wiKVxuICAgICAgICAgIC5jb2xsZWN0aW9uKFwicHJvZ3Jlc3NcIilcbiAgICAgICAgICAuZG9jKFwiXCIgKyB0aGlzLmlkKVxuICAgICAgICAgIC5kZWxldGUoKVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuLy8gVGFzay9ub3RlIGZpcmVzdG9yZSBkYXRhIGNvbnZlcnRlclxudmFyIGJ1am9Db252ZXJ0ZXIgPSB7XG4gIHRvRmlyZXN0b3JlOiBmdW5jdGlvbiAoYnVqbykge1xuICAgIGxldCBkYXRlWWVhciA9IGRheXNJbnRvWWVhcihkYXRlKSArIHNlbGVjdGVkRGF0ZTtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGJ1am8uaWQsXG4gICAgICB0ZXh0OiBidWpvLnRleHQsXG4gICAgICBsZXZlbDogYnVqby5sZXZlbCxcbiAgICAgIHR5cGU6IGJ1am8udHlwZSxcbiAgICAgIHNpZ25pZmllcjogYnVqby5zaWduaWZpZXIsXG4gICAgICBzdHlsZTogYnVqby5zdHlsZSxcbiAgICAgIGRhdGU6IGRhdGVZZWFyLFxuICAgIH07XG4gIH0sXG4gIGZyb21GaXJlc3RvcmU6IGZ1bmN0aW9uIChzbmFwc2hvdCwgb3B0aW9ucykge1xuICAgIGNvbnN0IGRhdGEgPSBzbmFwc2hvdC5kYXRhKG9wdGlvbnMpO1xuICAgIHJldHVybiBuZXcgQnVqb0VsZW1lbnQoXG4gICAgICBkYXRhLmlkLFxuICAgICAgZGF0YS50ZXh0LFxuICAgICAgZGF0YS5sZXZlbCxcbiAgICAgIGRhdGEudHlwZSxcbiAgICAgIGRhdGEuc2lnbmlmaWVyLFxuICAgICAgZGF0YS5zdHlsZVxuICAgICk7XG4gIH0sXG59O1xuXG4vLyBQcm9ncmVzcyB0cmFja2VyIGZpcmVzdG9yZSBkYXRhIGNvbnZlcnRlclxudmFyIHByb2dyZXNzQ29udmVydGVyID0ge1xuICB0b0ZpcmVzdG9yZTogZnVuY3Rpb24gKHByb2dyZXNzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwcm9ncmVzcy5pZCxcbiAgICAgIHRleHQ6IHByb2dyZXNzLnRleHQsXG4gICAgICBzdGFydDogcHJvZ3Jlc3Muc3RhcnQsXG4gICAgICBlbmQ6IHByb2dyZXNzLmVuZCxcbiAgICB9O1xuICB9LFxuICBmcm9tRmlyZXN0b3JlOiBmdW5jdGlvbiAoc25hcHNob3QsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBkYXRhID0gc25hcHNob3QuZGF0YShvcHRpb25zKTtcbiAgICByZXR1cm4gbmV3IFByb2dyZXNzVHJhY2tlcihkYXRhLmlkLCBkYXRhLnRleHQsIGRhdGEuc3RhcnQsIGRhdGEuZW5kKTtcbiAgfSxcbn07XG4iXX0=